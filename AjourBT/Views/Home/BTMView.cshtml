@using AjourBT.Domain.Infrastructure;
@model int

<script type="text/javascript">
    $(document).ready(function () {

        $("#tabsBTM").tabs({ selected: '@Model' });
        $("li#BTMLink a").css({
            'color': '#E1701D'
        })

    });
    
</script>
<script src="~/Scripts/jquery.validate.js"></script>
<script src="~/Scripts/jquery.validate.unobtrusive.js"></script>
<script src="~/Scripts/jquery.unobtrusive-ajax.min.js"></script>
<script src="~/Scripts/AjourBTScript/DatesValidation.js"></script>
<div id="tabsBTM">
    <ul>
        <li><a href="#tabs-9">Visas and Permits</a></li>
        <li><a href="#tabs-10">BTs in process</a></li>
        <li><a href="#tabs-18">Private Trips</a></li>
        <li><a href="#tabs-11">Messages</a></li>
    </ul>

    <div id="tabs-9">@{Html.RenderAction("GetVisaBTM", "Visa", new { searchString = @ViewBag.SearchString });}</div>
    <div id="tabs-10">@{Html.RenderAction("GetBusinessTripBTM", "BusinessTrip", new { searchString = @ViewBag.SearchString});}</div>
    <div id="tabs-18">@{Html.RenderAction("GetPrivateTripBTM", "PrivateTrip", new {searchString = @ViewBag.SearchString });}</div>
    <div id="tabs-11"> @{Html.RenderAction("GetMessagesForRole", "Message", new { role = "BTM", tab = Tabs.BTM.Messages, searchString = @ViewBag.SearchString, actionNameForPagination = ViewContext.RouteData.GetRequiredString("action") });}</div>

</div>

<script type="text/javascript">
    $(document).ready(function () {
        $('[href=#tabs-9]').click(function () {
            $('#visasView').DataTable({
                "sScrollY": (0.6 * $(window).height()),
                "bPaginate": false,
                "bDestroy": true,
                "bFilter": false,
                "bScrollCollapse": true,
                "aaSorting": [],
                "aoColumns": [
                    null,
                    null,
                    { "bSortable": false },
                    null,
                    { "sType": "date" },
                    null,
                    null,
                    { "sType": "date" },
                    { "sType": "visaNum"},
                    { "sType": "date" },
                    { "sType": "shortdate" },
                    { "sType": "string" },
                ]
            });
        });
    })
        $(document).ready(function () {
            $('[href=#tabs-10]').click(function () {
                $('#viewBTsBTMexample').dataTable({
                    "sScrollY": (0.5 * $(window).height()),
                    "bPaginate": false,
                    "bDestroy": true,
                    "bFilter": false,
                    "bScrollCollapse": true,
                    "aaSorting": [],
                    "aoColumns": [
                        null,
                        null,
                        { "sType": "numeric" },
                        { "sType": "numeric" },
                        { "sType": "numeric" },
                        { "sType": "numeric" }
                    ]
                });
            });
        });
        $(document).ready(function () {
            $('[href=#tabs-18]').click(function () {
                $('#privateTripsBTMexample').DataTable({
                    "sScrollY": (0.6 * $(window).height()),
                    "bDestroy": true,
                    "aaSorting": [],
                    "bPaginate": false,
                    "bFilter": false,
                    "bScrollCollapse": true,
                    "aoColumns": [
        null,
        null,
        { "bSortable": false },
        {"sType": "numeral"},
        {"sType": "datetime"}
                    ]
                });
            });
        });
</script>